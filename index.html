<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Map Application</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="header-left">
                <img src="https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b?ver=5c31" alt="Microsoft" class="microsoft-logo">
            </div>
            <h1>Meeting Room Management</h1>
            <div class="header-right">
                <div class="ab-logo-container">
                    <div class="ab-logo">AB</div>
                </div>
            </div>
        </header>
        
        <main>
            <!-- Region Selector Sidebar -->
            <div id="regionSidebar" class="region-sidebar">
                <div class="sidebar-header">
                    <h3>üìç Microsoft Offices</h3>
                </div>
                <div class="sidebar-content">
                    <div class="region-list">
                        <div class="region-item active" data-region="hyderabad">
                            <div class="region-flag">üáÆüá≥</div>
                            <div class="region-info">
                                <div class="region-name">Hyderabad</div>
                                <div class="region-country">India</div>
                            </div>
                        </div>
                        <div class="region-item" data-region="bangalore">
                            <div class="region-flag">üáÆüá≥</div>
                            <div class="region-info">
                                <div class="region-name">Bangalore</div>
                                <div class="region-country">India</div>
                            </div>
                        </div>
                        <div class="region-item" data-region="noida">
                            <div class="region-flag">üáÆüá≥</div>
                            <div class="region-info">
                                <div class="region-name">Noida</div>
                                <div class="region-country">India</div>
                            </div>
                        </div>
                        <div class="region-item" data-region="redmond">
                            <div class="region-flag">üá∫üá∏</div>
                            <div class="region-info">
                                <div class="region-name">Redmond</div>
                                <div class="region-country">USA</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sidebar-toggle" id="sidebarToggle">
                        <span class="toggle-icon">‚óÄ</span>
                    </div>
                </div>
                
                <!-- Region Statistics -->
                <div class="region-stats" id="regionStats">
                    <div class="stats-title">Current Region</div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number" id="statBuildings">4</div>
                            <div class="stat-label">Buildings</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="statRooms">45</div>
                            <div class="stat-label">Rooms</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="statAvailable">38</div>
                            <div class="stat-label">Available</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Container -->
            <div id="map"></div>
            
            <!-- Building Details Modal -->
            <div id="buildingModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="buildingTitle">Building Details</h2>
                    <div id="buildingInfo">
                        <p id="buildingAddress"></p>
                        <div id="floorsContainer">
                            <h3>Floors</h3>
                            <div id="floorsList"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Floor Plan Modal -->
            <div id="floorModal" class="modal">
                <div class="modal-content floor-modal-content">
                    <span class="close">&times;</span>
                    <div class="floor-header">
                        <h2 id="floorTitle">Floor Plan</h2>
                        <button id="backToBuilding" class="btn-secondary">‚Üê Back to Building</button>
                    </div>
                    <div id="floorPlan">
                        <div id="roomsGrid"></div>
                    </div>
                </div>
            </div>
            
            <!-- Room Details Modal -->
            <div id="roomModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="roomTitle">Meeting Room Details</h2>
                    <div id="roomInfo">
                        <div class="room-status">
                            <span id="roomStatusBadge" class="status-badge"></span>
                            <span id="roomStatusText"></span>
                        </div>
                        <div id="roomCapacity"></div>
                        <div id="roomEquipment"></div>
                        <div id="roomProblems" class="room-problems"></div>
                        <div id="dispatchSection" class="dispatch-section">
                            <button id="dispatchEngineerBtn" class="dispatch-btn">
                                üîß Dispatch Engineer
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Engineer Dispatch Modal -->
            <div id="dispatchModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>üîß Dispatch Engineer Request</h2>
                    <div id="dispatchForm">
                        <div class="form-group">
                            <label for="urgencyLevel">Priority Level:</label>
                            <select id="urgencyLevel" class="form-input">
                                <option value="Low">Low Priority</option>
                                <option value="Medium">Medium Priority</option>
                                <option value="High" selected>High Priority</option>
                                <option value="Critical">Critical Priority</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="problemCategory">Problem Category:</label>
                            <select id="problemCategory" class="form-input">
                                <option value="Equipment">Equipment Failure</option>
                                <option value="Network">Network Issues</option>
                                <option value="Climate">Climate Control</option>
                                <option value="Security">Security Systems</option>
                                <option value="Facility">General Facility</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="requestDescription">Additional Details:</label>
                            <textarea id="requestDescription" class="form-input" rows="4" 
                                placeholder="Describe the issue in detail..."></textarea>
                        </div>
                        
                        <div class="engineer-assignment">
                            <h3>üìã Engineer Assignment</h3>
                            <div id="assignedEngineer" class="engineer-info">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button id="cancelDispatch" class="btn-secondary">Cancel</button>
                            <button id="confirmDispatch" class="btn-primary">Confirm Dispatch</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Notification Container -->
        <div id="notificationContainer"></div>
    </div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    
    <!-- Custom JavaScript -->
    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>